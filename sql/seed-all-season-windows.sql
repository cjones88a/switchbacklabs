-- Seed all 4SOH season windows from 2015 through 2026.
-- Race year = the FALL year. Each race year has 4 seasons:
--   FALL:   Sept 1  – Nov 30   (calendar year N)
--   WINTER: Dec 1   – Feb 28/29 (calendar year N into N+1)
--   SPRING: Mar 1   – May 31   (calendar year N+1)
--   SUMMER: Jun 1   – Aug 31   (calendar year N+1)
--
-- Run this in the Supabase SQL Editor.

INSERT INTO public.season_windows (season_key, start_at, end_at) VALUES
  -- Race year 2015
  ('2015_FALL',   '2015-09-01T00:00:00Z', '2015-11-30T23:59:59Z'),
  ('2015_WINTER', '2015-12-01T00:00:00Z', '2016-02-29T23:59:59Z'),
  ('2016_SPRING', '2016-03-01T00:00:00Z', '2016-05-31T23:59:59Z'),
  ('2016_SUMMER', '2016-06-01T00:00:00Z', '2016-08-31T23:59:59Z'),

  -- Race year 2016
  ('2016_FALL',   '2016-09-01T00:00:00Z', '2016-11-30T23:59:59Z'),
  ('2016_WINTER', '2016-12-01T00:00:00Z', '2017-02-28T23:59:59Z'),
  ('2017_SPRING', '2017-03-01T00:00:00Z', '2017-05-31T23:59:59Z'),
  ('2017_SUMMER', '2017-06-01T00:00:00Z', '2017-08-31T23:59:59Z'),

  -- Race year 2017
  ('2017_FALL',   '2017-09-01T00:00:00Z', '2017-11-30T23:59:59Z'),
  ('2017_WINTER', '2017-12-01T00:00:00Z', '2018-02-28T23:59:59Z'),
  ('2018_SPRING', '2018-03-01T00:00:00Z', '2018-05-31T23:59:59Z'),
  ('2018_SUMMER', '2018-06-01T00:00:00Z', '2018-08-31T23:59:59Z'),

  -- Race year 2018
  ('2018_FALL',   '2018-09-01T00:00:00Z', '2018-11-30T23:59:59Z'),
  ('2018_WINTER', '2018-12-01T00:00:00Z', '2019-02-28T23:59:59Z'),
  ('2019_SPRING', '2019-03-01T00:00:00Z', '2019-05-31T23:59:59Z'),
  ('2019_SUMMER', '2019-06-01T00:00:00Z', '2019-08-31T23:59:59Z'),

  -- Race year 2019
  ('2019_FALL',   '2019-09-01T00:00:00Z', '2019-11-30T23:59:59Z'),
  ('2019_WINTER', '2019-12-01T00:00:00Z', '2020-02-29T23:59:59Z'),
  ('2020_SPRING', '2020-03-01T00:00:00Z', '2020-05-31T23:59:59Z'),
  ('2020_SUMMER', '2020-06-01T00:00:00Z', '2020-08-31T23:59:59Z'),

  -- Race year 2020
  ('2020_FALL',   '2020-09-01T00:00:00Z', '2020-11-30T23:59:59Z'),
  ('2020_WINTER', '2020-12-01T00:00:00Z', '2021-02-28T23:59:59Z'),
  ('2021_SPRING', '2021-03-01T00:00:00Z', '2021-05-31T23:59:59Z'),
  ('2021_SUMMER', '2021-06-01T00:00:00Z', '2021-08-31T23:59:59Z'),

  -- Race year 2021
  ('2021_FALL',   '2021-09-01T00:00:00Z', '2021-11-30T23:59:59Z'),
  ('2021_WINTER', '2021-12-01T00:00:00Z', '2022-02-28T23:59:59Z'),
  ('2022_SPRING', '2022-03-01T00:00:00Z', '2022-05-31T23:59:59Z'),
  ('2022_SUMMER', '2022-06-01T00:00:00Z', '2022-08-31T23:59:59Z'),

  -- Race year 2022
  ('2022_FALL',   '2022-09-01T00:00:00Z', '2022-11-30T23:59:59Z'),
  ('2022_WINTER', '2022-12-01T00:00:00Z', '2023-02-28T23:59:59Z'),
  ('2023_SPRING', '2023-03-01T00:00:00Z', '2023-05-31T23:59:59Z'),
  ('2023_SUMMER', '2023-06-01T00:00:00Z', '2023-08-31T23:59:59Z'),

  -- Race year 2023
  ('2023_FALL',   '2023-09-01T00:00:00Z', '2023-11-30T23:59:59Z'),
  ('2023_WINTER', '2023-12-01T00:00:00Z', '2024-02-29T23:59:59Z'),
  ('2024_SPRING', '2024-03-01T00:00:00Z', '2024-05-31T23:59:59Z'),
  ('2024_SUMMER', '2024-06-01T00:00:00Z', '2024-08-31T23:59:59Z'),

  -- Race year 2024
  ('2024_FALL',   '2024-09-01T00:00:00Z', '2024-11-30T23:59:59Z'),
  ('2024_WINTER', '2024-12-01T00:00:00Z', '2025-02-28T23:59:59Z'),
  ('2025_SPRING', '2025-03-01T00:00:00Z', '2025-05-31T23:59:59Z'),
  ('2025_SUMMER', '2025-06-01T00:00:00Z', '2025-08-31T23:59:59Z'),

  -- Race year 2025
  ('2025_FALL',   '2025-09-01T00:00:00Z', '2025-11-30T23:59:59Z'),
  ('2025_WINTER', '2025-12-01T00:00:00Z', '2026-02-28T23:59:59Z'),
  ('2026_SPRING', '2026-03-01T00:00:00Z', '2026-05-31T23:59:59Z'),
  ('2026_SUMMER', '2026-06-01T00:00:00Z', '2026-08-31T23:59:59Z')

ON CONFLICT (season_key) DO UPDATE
  SET start_at = EXCLUDED.start_at,
      end_at   = EXCLUDED.end_at;
